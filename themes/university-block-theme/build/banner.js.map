{"version":3,"file":"banner.js","mappings":"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","sources":["webpack://fictional-university-theme/./blocks/banner/edit.js","webpack://fictional-university-theme/./blocks/banner/save.js","webpack://fictional-university-theme/./blocks/banner/editor.scss","webpack://fictional-university-theme/./blocks/banner/render.scss?58ff","webpack://fictional-university-theme/external window [\"wp\",\"apiFetch\"]","webpack://fictional-university-theme/external window [\"wp\",\"blockEditor\"]","webpack://fictional-university-theme/external window [\"wp\",\"components\"]","webpack://fictional-university-theme/external window [\"wp\",\"element\"]","webpack://fictional-university-theme/webpack/bootstrap","webpack://fictional-university-theme/webpack/runtime/compat get default export","webpack://fictional-university-theme/webpack/runtime/define property getters","webpack://fictional-university-theme/webpack/runtime/hasOwnProperty shorthand","webpack://fictional-university-theme/webpack/runtime/make namespace object","webpack://fictional-university-theme/./blocks/banner/index.js"],"sourcesContent":["import { InnerBlocks, InspectorControls, MediaUpload, MediaUploadCheck, useBlockProps } from \"@wordpress/block-editor\"\r\nimport { Button, PanelBody, PanelRow } from \"@wordpress/components\"\r\nimport apiFetch from \"@wordpress/api-fetch\"\r\nimport { useEffect } from \"@wordpress/element\"\r\n\r\nexport function BannerEdit(props) {\r\n\r\n    //Set Default fallback Image (since banner.fallbackImage cannot be accessed in block.json)\r\n    useEffect(() => {\r\n        if (!props.attributes.imageURL) {\r\n            props.setAttributes({ imageURL: banner.fallbackImage })\r\n        }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (props.attributes.imageID) {\r\n            async function go() {\r\n                const response = await apiFetch({\r\n                    path: `wp/v2/media/${props.attributes.imageID}`,\r\n                    method: \"GET\"\r\n                })\r\n                props.setAttributes({ imageURL: response.media_details.sizes[\"page-banner\"].source_url });\r\n            }\r\n            go();\r\n        }\r\n    }, [props.attributes.imageID]);\r\n\r\n    function onFileSelect(x) {\r\n        props.setAttributes({ imageID: x.id })\r\n        console.log(props.attributes.imageURL);\r\n    }\r\n\r\n    const ALLOWED_BLOCKS = ['online-university/generic-button', 'online-university/generic-heading']\r\n\r\n    const blockProps = useBlockProps({ className: \"page-banner\" })\r\n    return (\r\n        <div {...blockProps}>\r\n\r\n            <InspectorControls>\r\n                <PanelBody title=\"Background\" initialOpen={true}>\r\n                    <PanelRow>\r\n                        <MediaUploadCheck>\r\n                            <MediaUpload onSelect={onFileSelect} value={props.attributes.imageID} render={({ open }) => {\r\n                                return <Button onClick={open}>Choose Image</Button>\r\n                            }}/>\r\n                        </MediaUploadCheck>\r\n                    </PanelRow>  \r\n                </PanelBody>\r\n            </InspectorControls>\r\n\r\n            <div className=\"page-banner__bg-image\" style={{backgroundImage: `url('${props.attributes.imageURL}')`}}></div>\r\n            <div className=\"page-banner__content container t-center c-white\">\r\n                <InnerBlocks allowedBlocks={ ALLOWED_BLOCKS } />\r\n            </div>\r\n            \r\n        </div>\r\n    );\r\n}","import { InnerBlocks, useBlockProps } from \"@wordpress/block-editor\"\r\n\r\nexport function Banner(props) {\r\n    const blockProps = useBlockProps.save();\r\n    return ( \r\n        <div {...blockProps}>\r\n            <InnerBlocks.Content />\r\n        </div> \r\n    )\r\n}","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"wp\"][\"apiFetch\"];","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"element\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { BannerEdit as edit } from \"./edit\";\r\nimport { Banner as save } from \"./save\";\r\nimport metadata from './block.json'\r\n\r\nimport \"./editor.scss\"\r\nimport \"./render.scss\"\r\n\r\nconst { name } = metadata;\r\n\r\nconst settings = {\r\n    apiVersion: 2,\r\n    //example: {}\r\n    edit,\r\n    save\r\n}\r\n\r\nwp.blocks.registerBlockType( { name, ...metadata }, settings);\r\n"],"names":["InnerBlocks","InspectorControls","MediaUpload","MediaUploadCheck","useBlockProps","Button","PanelBody","PanelRow","apiFetch","useEffect","BannerEdit","props","attributes","imageURL","setAttributes","banner","fallbackImage","imageID","go","response","path","method","media_details","sizes","source_url","onFileSelect","x","id","console","log","ALLOWED_BLOCKS","blockProps","className","open","backgroundImage","Banner","save","edit","metadata","name","settings","apiVersion","wp","blocks","registerBlockType"],"sourceRoot":""}